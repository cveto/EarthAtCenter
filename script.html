<script>
var context;

// Year lengtg in Earth days
var daysMercury=87.97;
var daysVenus=224.701;
var daysEarth=365.265;
var daysMars=686.971;
var daysJupiter=4332.59;
var daysSaturn=10759.22;
var daysUranus=30688.5;
var daysNeptune=60182;
var daysPluto=90560;


// Starting position on the canvas
var posSunx=600;
var posSunY=600;
var posMercuryX=posSunx;
var posMercuryY=posSunY;
var posVenusX=posSunx;
var posVenusY=posSunY;
var posEarthX=posSunx;
var posEarthY=posSunY;
var posMarsX=posSunx;
var posMarsY=posSunY;
var posJupiterX=posSunx;
var posJupiterY=posSunY;
var posSaturnX=posSunx;
var posSaturnY=posSunY;
var posUranusX=posSunx;
var posUranusY=posSunY;
var posNeputneX=posSunx;
var posNeptuneY=posSunY;
var posPlutoX=posSunx;
var posPlutoY=posSunY;
var posMoonX;
var posMoonY;

// Distance from Sun in AU/10
var distMercury=0.39;
var distVenus=0.723;
var distEarth=1;
var distMars=1.524;
var distJupiter=5.203;
var distSaturn=9.539;
var distUranus=19.18;
var distNeptune=30.06;
var distPluto=39.5
var distMoon;

var distWeight=110;



// Speed of going around the sun
var offset2=Math.PI/4;
var speedEarth=0.09;

var speedMercury=speedEarth/(daysMercury/daysEarth);
var speedVenus=speedEarth/(daysVenus/daysEarth);
var speedMars=speedEarth/(daysMars/daysEarth);
var speedJupiter=speedEarth/(daysJupiter/daysEarth);
var speedSaturn=speedEarth/(daysSaturn/daysEarth);
var speedUranus=speedEarth/(daysUranus/daysEarth);
//var speedNeptune=speedEarth/(daysNeptune/daysEarth);
//var speedPluto=speedEarth/(daysPluto/daysEarth);
var speedMoon;


var fi=0;
var fiMercury=0;
var fiMars=0;
var fiJupiter=0;

var fid;
var fidMars;
var fidJupiter;
var fidMercury;
var drawOn=0;
var dfi=1;

var stikalo=0;


function init()
{
  context= myCanvas.getContext('2d');
  setInterval(draw,1);					// Calls function draw 40 times a...? Well often.	
  
}

function draw()
{
  // context.clearRect(0,0, 3000,3000);
  
  if (drawOn == 0) {
	context.clearRect(0,0, 3000,3000);
  }
  
  context.beginPath();


    // EARTH moves
	fi+=0.1*dfi;
	fid = speedEarth*fi;
	if (fid > Math.PI*2) {
		fi = 0;
	}
	fi+=0.1*dfi;
	
	
    // MERCURY moves
	fiMercury+=0.1*dfi;
	fidMercury = speedMercury*fiMercury;
	if (fidMercury > Math.PI*2) {
		fiMercury = 0;
	}
	fiMercury+=0.1*dfi;
	
    // MARS moves
	fiMars+=0.1*dfi;
	fidMars = speedMars*fiMars;
	if (fidMars > Math.PI*2) {
		fiMars = 0;
	}
	fiMars+=0.1*dfi;

	// JUPITER moves
	fiJupiter+=0.1*dfi;
	fidJupiter = speedJupiter*fiJupiter;
	if (fidJupiter > Math.PI*2) {
		fiJupiter = 0;
	}
	fiJupiter+=0.1*dfi;	
	
	
  if (stikalo==0) {		// SUN IS CENTRAL
  
	// position of sun
	posSunx=posSunx
	posSunY=posSunY
  
    // position of Earth
	posEarthX = posSunx+distWeight*distEarth*Math.sin(fid);
	posEarthY = posSunY+distWeight*distEarth*Math.sin(fid-Math.PI/2);
	
} else if (stikalo==1) {	// EARTH IS GROUNDED
	
	// position of sun
	posSunx=posEarthX+distWeight*distEarth*Math.sin(fid+Math.PI);
	posSunY=posEarthY+distWeight*distEarth*Math.sin(fid-Math.PI/2+Math.PI);
  
    // position of Earth
	posEarthX = posEarthX;
	posEarthY = posEarthY;
	
		
} else if (stikalo==2) {	// MERCURY IS CENTRAL
	// SUN is relative to mercury
	// Mercury is stabilized
	// Rest relative to sun

}

    // position of moon
	posMoonX = posEarthX+20*Math.sin(27.322*fid);
	posMoonY = posEarthY+20*Math.sin(27.322*fid-Math.PI/2);
	
	// position of Mercury
	posMercuryX = posSunx+distWeight*distMercury*Math.sin(fidMercury+offset2);
	posMercuryY = posSunY+distWeight*distMercury*Math.sin(fidMercury-Math.PI/2+offset2);
	
	// position of Mars
	posMarsX = posSunx+distWeight*distMars*Math.sin(fidMars+offset2);
	posMarsY = posSunY+distWeight*distMars*Math.sin(fidMars-Math.PI/2+offset2);

	// position of Jupiter
	posJupiterX = posSunx+distWeight*distJupiter*Math.sin(fidJupiter+offset2);
	posJupiterY = posSunY+distWeight*distJupiter*Math.sin(fidJupiter-Math.PI/2+offset2);




  // If I click, I want the Post of ball 2 to be const, and pos of ball 1 to be realitve to that.
  button.onclick = function(event) {
	context.clearRect(0,0, 3000,3000);
	if (stikalo==0) {
		stikalo = 1;
	} else if (stikalo==1) {
		stikalo = 0;
	} else if (stikalo==2) {
		stikalo = 0;
	}
  };

  button_Draw.onclick = function(event) {
	if (drawOn==0) {
		drawOn = 1;
	} else if (drawOn==1) {
		drawOn = 0;
	}
  };
  

  //context.arc(posSunx,posSunY,30,0,Math.PI*2,true)
  //context.arc(posEarthX,posEarthY,10,0,Math.PI*2,true); 
  //context.arc(posMarsX,posMarsY,1,0,Math.PI*2,true);





  // SUN
if (document.getElementById("markSun").checked == '1') {
  context.fillStyle = 'orange';
  context.fillRect(posSunx, posSunY, 15, 15);
} 
  
  // EARTH
if (document.getElementById("markEarth").checked == '1') {
  context.fillStyle = 'green';
  context.fillRect(posEarthX, posEarthY, 7, 7);
} 
  
  // MOON
if (document.getElementById("markMoon").checked == '1') {
  context.fillStyle = 'black';
  context.fillRect(posMoonX, posMoonY, 3, 3);
} 

  // MERCURY
if (document.getElementById("markMercury").checked == '1') {
	context.fillStyle = 'blue';
	context.fillRect(posMercuryX, posMercuryY, 9, 7);
}  
 
  // MARS
if (document.getElementById("markMars").checked == '1') {
	context.fillStyle = 'red';
	context.fillRect(posMarsX, posMarsY, 9, 7);
} 



  // JUPITER
  context.fillStyle = 'blue';
  context.fillRect(posJupiterX, posJupiterY, 9, 7);





  
  
  context.closePath();
  context.fill();

  document.getElementById("demofi").innerHTML = fid;
  document.getElementById("stikalo").innerHTML = stikalo;
  document.getElementById("posSunx").innerHTML = posSunx;
  document.getElementById("posSunY").innerHTML = posSunY;
  document.getElementById("posEarthX").innerHTML = posEarthX;
  document.getElementById("posEarthY").innerHTML = speedEarth;
  
  distWeight = document.getElementById("sliderSize").value;
  speedEarth = document.getElementById("sliderSpeed").value/1000;
  
}

</script>


<body bgcolor="gray" onLoad="init();">
	<button id="button">Click on me!</button>	<button id="button_Draw">DRAW</button>
	<p id="stikalo"></p>
	<p id="demofi"></p>
	<p id="posSunx"></p>
	<p id="posSunY"></p>
	<p id="posEarthX"></p>
	<p id="posEarthY"></p>

Mercury: <input type="checkbox" id="markMercury" checked="1"> |
Mars: <input type="checkbox" id="markMars" checked="1"> |
Earth: <input type="checkbox" id="markEarth" checked="1"> |
Sun: <input type="checkbox" id="markSun" checked="1"> |
Moon: <input type="checkbox" id="markMoon" checked="1">
SIZE: <input type="range" id="sliderSize" min="1" max="200">
SPEED: <input type="range" id="sliderSpeed" min="0" max="1000">

  <canvas id="myCanvas" width="3000" height="3000" >
  </canvas>


</body>
